---
import Layout from "@/layouts/LayoutMusic.astro"
import LiteYoutube from "@/components/ui/LiteYoutube.astro"
import H1Title from "@/components/astroComponents/H1Title.astro"

import { getPredytube } from "@/api/getPredytube"

const predytube = await getPredytube()

//console.log(predytube, " predytube ðŸ©·")

/*
Esto lo he puesto aquÃ­ pero iria abajo



{
      predytube.reverse().map((video, index) => {
        console.log(
          `${import.meta.env.PUBLIC_BASE_PATH}videos/${video.material}.mp4`,
          " la ruta que imprime"
        )
        return (
          <div>
            <p class="text-white font-semibold">{video.Titulo}</p>

            {
  video.material ? (
    <video
      id={video.Titulo.toLowerCase()
        .match(/[a-z]+/g)
        .join("-")}
      controls
      class="rounded-xl mt-20 max-w-80"
    >
      <source src={`/music/predytube/${video.material}.mp4`} type="video/mp4" />
      Tu navegador no soporta la etiqueta de video.
    </video>
  ) : (
    <h1 class="text-7xl text-red-600">FALTA INFO</h1>
  )
}
          </div>
        )
      })
    }






 */
---

<Layout title="Predytube">
  <div class="flex justify-center items-start flex-wrap">
    <H1Title titulo="Predytube" descripcion="Cada miercoles nuevo episodio." />

    <div class="flex flex-row flex-wrap justify-center items-start gap-4">
      {
        predytube.reverse().map((video, index) => {
          return (
            <div class="m-2">
              {video.idYoutube ? (
                <div class="flex flex-col w-max">
                  <LiteYoutube
                    videoId={video.idYoutube}
                    title={video.titulo}
                    backgroundImage={`${import.meta.env.PUBLIC_BASE_PATH}/music/thumnails-youtube/predytube/${video.idYoutube}.jpg`}
                    className="w-[22rem] rounded-xl"
                  />
                  <p class="text-white font-semibold p-2">{video.titulo}</p>
                </div>
              ) : (
                /* <h1 class="text-7xl text-red-600">FALTA INFO</h1> */ <p />
              )}
            </div>
          )
        })
      }
    </div>
  </div>
</Layout>
