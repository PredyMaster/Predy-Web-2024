---
import Layout from "@/layouts/LayoutMusic.astro"
import LiteYoutube from "@/components/ui/LiteYoutube.astro"

import { getPredytube } from "@/api/getPredytube"

const predytube = await getPredytube()

//console.log(predytube, " predytube ü©∑")

/*
Esto lo he puesto aqu√≠ pero iria abajo



{
      predytube.reverse().map((video, index) => {
        console.log(
          `${import.meta.env.PUBLIC_BASE_PATH}videos/${video.material}.mp4`,
          " la ruta que imprime"
        )
        return (
          <div>
            <p class="text-white font-semibold">{video.Titulo}</p>

            {
  video.material ? (
    <video
      id={video.Titulo.toLowerCase()
        .match(/[a-z]+/g)
        .join("-")}
      controls
      class="rounded-xl mt-20 max-w-80"
    >
      <source src={`/music/predytube/${video.material}.mp4`} type="video/mp4" />
      Tu navegador no soporta la etiqueta de video.
    </video>
  ) : (
    <h1 class="text-7xl text-red-600">FALTA INFO</h1>
  )
}
          </div>
        )
      })
    }






 */
---

<Layout title="P√°gina Principal">
  <div class="flex justify-center flex-col items-center">
    <h1 transition:name="Videoclips">Predytube</h1>
    <p>Este es el contenido de mi p√°gina principal.</p>

    {
      predytube.reverse().map((video, index) => {
        console.log(
          `${import.meta.env.PUBLIC_BASE_PATH}videos/${video.material}.mp4`,
          " la ruta que imprime"
        )
        return (
          <div>
            <p class="text-white font-semibold">{video.titulo}</p>

            {video.idYoutube ? (
              <LiteYoutube
                videoId={video.idYoutube}
                title={video.titulo}
                backgroundImage={`/music/thumnails-youtube/predytube/${video.idYoutube}.jpg`}
                className="w-[22rem] rounded-xl"
              />
            ) : (
              /* <h1 class="text-7xl text-red-600">FALTA INFO</h1> */ <p />
            )}
          </div>
        )
      })
    }
  </div>
</Layout>
